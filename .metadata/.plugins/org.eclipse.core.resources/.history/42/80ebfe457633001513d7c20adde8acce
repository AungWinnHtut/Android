package com.example.sqlitebroser;

import java.io.IOException;
import java.util.jar.Attributes.Name;

import android.os.Bundle;
import android.app.Activity;
import android.view.Menu;
import android.view.View;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ListView;
import android.widget.TableLayout;
import android.view.View.OnClickListener;
import android.widget.TextView;

public class MainActivity extends Activity implements OnClickListener {
	TextView contact;
	ListView liststudents;
	EditText name;
	Sqlconnector sqlconnector;
	Button insert;
	// TableLayout liststudents;
	SqlLiteDbHelper dbHelper = new SqlLiteDbHelper(this);

	// Contact contacts ;
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		// liststudents=(TableLayout)findViewById(R.id.liststudents);
		insert = (Button) findViewById(R.id.insert);
		name=(EditText)findViewById(R.id.N);
		insert.setOnClickListener(this);
		liststudents = (ListView) findViewById(R.id.liststudents);
		sqlconnector = new Sqlconnector(this);

		// contact = (TextView)findViewById(R.id.contact);
		dbHelper = new SqlLiteDbHelper(this);
		try {
			dbHelper.CopyDataBaseFromAsset();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		dbHelper.openDataBase();

		final ArrayAdapter<String> adapter2 = new ArrayAdapter<String>(this,
				android.R.layout.simple_list_item_1,
				sqlconnector.getAllRecord(2));
		final ArrayAdapter<String> adapter1 = new ArrayAdapter<String>(this,
				android.R.layout.simple_list_item_1,
				sqlconnector.getAllRecord(1));
		liststudents.setAdapter(adapter2);
		liststudents.setAdapter(adapter1);
		
		// liststudents.setOnClickListener(l)
		// liststudents.addView(adapter2);
		// contacts = new Contact();
		// contacts = dbHelper.Get_ContactDetails("vijay");
		// contact.setText(contacts.name +"\n" +contacts.email +"\n"
		// +contacts.mobileNo);
	}
	public void onClick(View view) {
		dbHelper.openDataBase();
		if (view == insert) {
			sqlconnector.insert(name.getText().toString());
			//db.execSQL("INSERT INTO contact VALUES('" + N.getText()	+ "');");
		}
	}
	
}
